(this["webpackJsonptest-react-starwars"]=this["webpackJsonptest-react-starwars"]||[]).push([[0],{207:function(e,t,a){},223:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(1),i=a(48),c=a.n(i),s=a(43),o=a(20),l=a(33),u=a(31),p=a(30),d=a(18),f=a(53),h=a(176),b=a.n(h),j=(a(207),a(167),a(73)),m=a(177),O=a(17),v=a(12),g=a(245),x=a(5),y=a.n(x),w=a(159),P=a(178),k=Object(P.a)("pattern"),N=function(){function e(t){Object(o.a)(this,e),Object.defineProperty(this,k,{writable:!0,value:""}),Object(w.a)(this,k)[k]=t}return Object(l.a)(e,[{key:"url",get:function(){return this.urlValue},set:function(e){if(!this.id&&e){var t=Object(w.a)(this,k)[k].exec(e);t&&t.length>=2&&(this.id=Number(t[1].replace("/","")))}this.urlValue=e}}]),e}(),D={id:y.a.oneOfType([y.a.string,y.a.number]).isRequired,url:y.a.string},S="/",E="/login",I="/people",_="https://swapi.dev/api",T={GET_PEOPLE:"".concat(_,"/people/"),GET_PLANET:"".concat(_,"/planets/"),GET_FILM:"".concat(_,"/films/")},C=/people\/(.*)/,F=/planets\/(.*)/,A=/films\/(.*)/,L=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,F)).name="",n.population=0,n.climate="",n.url=e,n}return a}(N),M=Object(v.a)(Object(v.a)({},D),{},{name:y.a.string,population:y.a.number,climate:y.a.string}),G=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this,C)).name="",e.height="",e.mass=0,e.hairColour="",e.skinColour="",e.eyeColour="",e.birthYear="",e.gender="",e.planet=null,e.films=[],e.loaded=!0,e.fromPage="",e}return Object(l.a)(a,null,[{key:"new",value:function(e){var t=new a;return"birth_year"in e&&(t.birthYear=e.birth_year),"eye_color"in e&&(t.eyeColour=e.eye_color),"films"in e&&(t.films=(e.films||[]).map((function(e){return new H(e)}))),"gender"in e&&(t.gender=e.gender),"hair_color"in e&&(t.hairColour=e.hair_color),"height"in e&&(t.height=e.height),"homeworld"in e&&(t.planet=new L(e.homeworld)),"mass"in e&&(t.mass=e.mass),"name"in e&&(t.name=e.name),"skin_color"in e&&(t.skinColour=e.skin_color),"url"in e&&(t.url=e.url),t}}]),a}(N),H=(Object(v.a)(Object(v.a)({},D),{},{name:y.a.string.isRequired,height:y.a.oneOfType([y.a.number,y.a.string]).isRequired,mass:y.a.oneOfType([y.a.number,y.a.string]).isRequired,hairColour:y.a.string.isRequired,skinColour:y.a.string.isRequired,eyeColour:y.a.string.isRequired,birthYear:y.a.string.isRequired,gender:y.a.string.isRequired,planet:y.a.shape(M),films:y.a.arrayOf(y.a.shape(R)).isRequired,fromPage:y.a.oneOfType([y.a.string,y.a.number]).isRequired}),function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,A)).title="",n.releaseDate=null,n.url=e,n}return a}(N)),R=Object(v.a)(Object(v.a)({},D),{},{title:y.a.string.isRequired,releaseDate:y.a.oneOfType([y.a.string,y.a.instanceOf(Date)])}),z=Object.freeze({list:"list",cards:"cards"}),U=function e(){Object(o.a)(this,e),this.timeStamp=0,this.loading=!0,this.people=[],this.totalPeopleCount=0,this.observerIndex=0,this.filterName="",this.currentPage="1",this.uploadedPages=[],this.favoriteHeroes={},this.itemsPerPage=10,this.exFavorite=!1,this.displayType=z.list,this.showFavoritesOnly=!1},q=(y.a.number,y.a.bool,y.a.arrayOf(y.a.instanceOf(G)),y.a.number,y.a.number,y.a.string,y.a.string,y.a.arrayOf(y.a.string),y.a.object,y.a.bool,y.a.oneOf([z.list,z.cards]),y.a.bool,function e(){Object(o.a)(this,e),this.timeStamp=0,this.userName="",this.offlineMode=!0,this.user=null});y.a.number,y.a.string,y.a.bool,y.a.object,y.a.number,y.a.object,y.a.object;function V(){return!!document.cookie}var W=0,B="userInfo";function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6e5;document.cookie="".concat(B,"=").concat(e,"; expires=").concat(Y(t)),W&&clearInterval(W),t&&(W=setInterval((function(){document.cookie="".concat(document.cookie,"; expires=").concat(Y(new Date(t).toGMTString()))}),.8*t))}function Y(e){var t=new Date,a=t.getTime();return a+=1e3*e,t.setTime(a),t}function X(){try{if(V())for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "===a.charAt(0);)a=a.substring(1);if(0===a.indexOf(B))return JSON.parse(a.substring(B.length+1,a.length))}}catch(n){console.log("getUserInfoFromCookie exception: ".concat(n))}return new q}var K=a(9),Q=a.n(K),Z=a(14);function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(Z.a)(Q.a.mark((function e(t,a){var n,r,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=te(t),a){e.next=7;break}return e.next=4,fetch(n);case 4:e.t0=e.sent,e.next=10;break;case 7:return e.next=9,fetch(n,{headers:{"Content-Type":"application/json",Accept:"application/json"},method:"POST",body:JSON.stringify(a)});case 9:e.t0=e.sent;case 10:return r=e.t0,e.next=13,r.json();case 13:return i=e.sent,e.abrupt("return",i);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(e){var t=e.baseUrl,a=e.param,n=e.query,r=t;return a&&(r+="".concat(a,"/")),n&&(r+="?"+new URLSearchParams(n).toString()),r}var ae="star-wars-api-favorites-heroes";function ne(){var e=localStorage.getItem(ae);return e?JSON.parse(e):[]}function re(e){localStorage.setItem(ae,JSON.stringify(e))}function ie(e,t){return function(e){if(e){var t=/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/.exec(e);if(t&&t.length)return!0}return!1}(e)&&function(e){return e&&e.length&&e.length>5&&e.length<25}(t)}var ce=a(46);ce.a.initializeApp({apiKey:"AIzaSyDBkOq6daLKKiGA6QTrCscb0JupbVXD5wE",authDomain:"".concat("https://").concat("star-wars-api-70c4e.firebaseapp.com"),databaseURL:"https://star-wars-api-70c4e.firebaseio.com",projectId:"star-wars-api-70c4e",storageBucket:"star-wars-api-70c4e.appspot.com",messagingSenderId:"864744893293",appId:"1:864744893293:web:bd13512c77c47dd9d14864"});var se=ce.a.database();function oe(e,t){return le.apply(this,arguments)}function le(){return(le=Object(Z.a)(Q.a.mark((function e(t,a){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ie(t,a)){e.next=10;break}return n=ce.a.auth(),e.next=5,n.setPersistence(ce.a.auth.Auth.Persistence.LOCAL);case 5:return e.next=7,n.createUserWithEmailAndPassword(t,a);case 7:return e.abrupt("return",e.sent);case 10:throw Error("incorrect form");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function ue(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(Z.a)(Q.a.mark((function e(t,a){var n;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!ie(t,a)){e.next=10;break}return n=ce.a.auth(),e.next=5,n.setPersistence(ce.a.auth.Auth.Persistence.LOCAL);case 5:return e.next=7,n.signInWithEmailAndPassword(t,a);case 7:return e.abrupt("return",e.sent);case 10:throw Error("incorrect form");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}function de(){return fe.apply(this,arguments)}function fe(){return(fe=Object(Z.a)(Q.a.mark((function e(){var t,a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new ce.a.auth.GoogleAuthProvider,a=ce.a.auth(),e.next=5,a.setPersistence(ce.a.auth.Auth.Persistence.LOCAL);case 5:return e.next=7,a.signInWithPopup(t);case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function he(){return(he=Object(Z.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ce.a.auth().signOut();case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var be=a(122),je="SET_PEOPLE_PAGE_LOADING_STATE",me="SET_PEOPLE_PAGE_DISPAY_TYPE",Oe="SET_PEOPLE_PAGE_PAGINATION_PAGE",ve="RESET_PEOPLE_DATA",ge="CLEAR_PEOPLE_DATA",xe="GET_PEOPLE_DATA",ye="UPDATE_HERO_DATA",we="SET_PEOPLE_PAGE_FAVORITES_VIEW_MODE",Pe="TOGGLE_FAVORITE_HEROES",ke="SET_OBSERVED_ITEM_INDEX";function Ne(e){return function(t){t(function(e){return{type:je,payload:{state:e}}}(e))}}var De=function(e){return{type:me,payload:{type:e}}};var Se=function(e){return{type:Oe,payload:{page:e}}};function Ee(){return function(e){e({type:ge})}}var Ie=function(e,t,a,n){return{type:xe,payload:{data:e,count:t,page:a,search:n}}};function _e(e,t){return function(){var a=Object(Z.a)(Q.a.mark((function a(n,r){var i,c,s,o,l,u,p,d;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=(e||1).toString(),c=r(),s=c.peopleData,(o=t!==s.filterName)&&n({type:ve}),s.showFavoritesOnly){a.next=34;break}if(!o&&-1!==s.uploadedPages.indexOf(i)){a.next=31;break}return a.prev=6,n(Ne(!0)),l={page:e},t&&(l.search=t),a.next=12,$({baseUrl:T.GET_PEOPLE,query:l});case 12:if(u=a.sent,p=u.count,!(d=u.results)){a.next=19;break}n(Ie(d.map((function(e){return G.new(e)})),p,i,t)),a.next=21;break;case 19:throw"No data from response","No data from response";case 21:a.next=26;break;case 23:a.prev=23,a.t0=a.catch(6),console.log("ex",a.t0);case 26:return a.prev=26,n(Ne(!1)),a.finish(26);case 29:a.next=32;break;case 31:n(Se(i));case 32:a.next=36;break;case 34:return a.next=36,n(Le(e,t));case 36:case"end":return a.stop()}}),a,null,[[6,23,26,29]])})));return function(e,t){return a.apply(this,arguments)}}()}var Te=function(e){return{type:we,payload:{state:e}}};var Ce=function(e){return{type:Pe,payload:{items:e}}};function Fe(){return function(){var e=Object(Z.a)(Q.a.mark((function e(t,a){var n,r,i,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a(),!(r=n.userInfo).offlineMode){e.next=5;break}t(Ce(ne())),e.next=17;break;case 5:if(!(i=r.user)||!i.uid){e.next=17;break}return e.prev=7,e.next=10,se.ref(i.uid).once("value");case 10:(c=e.sent)&&c.val&&t(Ce(JSON.parse(c.val()))),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t,a){return e.apply(this,arguments)}}()}function Ae(e){return function(t){t(function(e){return{type:ke,payload:{index:e}}}(e))}}function Le(e,t){return function(){var a=Object(Z.a)(Q.a.mark((function a(n,r){var i,c,s,o,l,u,p,d,f,h,b,j,m,O,v,g;return Q.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(i=r(),c=i.peopleData,s=c.favoriteHeroes,o=c.people,l=c.itemsPerPage,a.prev=2,n(Ne(!0)),u=(t||"").toLowerCase(),p=Object.keys(s).map((function(e){return{id:Number(e),name:s[e]}})).filter((function(e){return e&&-1!==(e.name||"").toString().toLowerCase().indexOf(u)})),(d=p.slice(l*(e-1),l*e)).length||!(e>1)){a.next=12;break}return a.next=10,n(Le(e-1,t));case 10:a.next=26;break;case 12:f=[],h=[],b=Object(be.a)(d);try{for(m=function(){var e=j.value,t=o.find((function(t){return t&&t.id===e.id}));if(t)h.push(t);else{f.push(e.id);var a=new G;a.id=e.id,a.name=e.name,a.loaded=!1,h.push(a)}},b.s();!(j=b.n()).done;)m()}catch(x){b.e(x)}finally{b.f()}n(Ie(h,Object.keys(p).length,e.toString(),t)),n(Ne(!1)),O=0,v=f;case 19:if(!(O<v.length)){a.next=26;break}return g=v[O],a.next=23,n(Ge(g));case 23:O++,a.next=19;break;case 26:a.next=32;break;case 28:a.prev=28,a.t0=a.catch(2),console.log("ex",a.t0),n(Ne(!1));case 32:case"end":return a.stop()}}),a,null,[[2,28]])})));return function(e,t){return a.apply(this,arguments)}}()}var Me=function(e){return{type:ye,payload:{hero:e}}};function Ge(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n,r;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$({baseUrl:T.GET_PEOPLE,param:e});case 3:n=t.sent,r=G.new(n),a(Me(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("ex",t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}var He="CLEAR_USER_INFO",Re="SET_USER_INFO",ze="GET_AUTHORIZED_ONLINE_USER_DATA";function Ue(){return function(e){e({type:He})}}function qe(e,t){return function(a){a(function(e,t){return{type:Re,payload:{userName:e,offlineMode:t}}}(e,t))}}function Ve(e){return function(t,a){var n,r;n=function(e){a().userInfo.user||(t(function(e){return{type:ze,payload:{user:e}}}(e)),t(Fe()))},r=function(){return e()},ce.a.auth().onAuthStateChanged((function(e){e?n&&"function"===typeof n&&n(e):r&&"function"===typeof r&&r()}))}}var We="GET_FILM_DATA",Be="GET_PLANET_DATA";function Je(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a,n){var r,i,c,s,o,l,u;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),i=r.relationships,e in i.filmsData){t.next=15;break}return t.prev=2,t.next=5,$({baseUrl:T.GET_FILM,param:e});case 5:c=t.sent,s=c.title,o=c.url,l=c.release_date,s&&((u=new H(o)).title=s,u.releaseDate=l,a({type:We,payload:{film:u}})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.warn(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e,a){return t.apply(this,arguments)}}()}var Ye;function Xe(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a,n){var r,i,c,s,o,l,u,p;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=n(),i=r.relationships,e in i.planestsData){t.next=16;break}return t.prev=2,t.next=5,$({baseUrl:T.GET_PLANET,param:e});case 5:c=t.sent,s=c.url,o=c.name,l=c.population,u=c.climate,o&&((p=new L(s)).name=o,p.population=l,p.climate=u,a({type:Be,payload:{planet:p}})),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(2),console.warn(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(e,a){return t.apply(this,arguments)}}()}var Ke,Qe,Ze=He,$e=Re,et=ze,tt=new q,at=Object(g.a)((Ye={},Object(O.a)(Ye,Ze,(function(){return new q})),Object(O.a)(Ye,$e,(function(e,t){var a=t.payload,n=a.userName,r=a.offlineMode;return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),userName:n,offlineMode:r})})),Object(O.a)(Ye,et,(function(e,t){var a=t.payload.user;return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),user:a})})),Ye),tt),nt=a(152),rt=je,it=me,ct=Oe,st=ve,ot=ge,lt=xe,ut=ye,pt=we,dt=Pe,ft=ke,ht=new U,bt=Object(g.a)((Ke={},Object(O.a)(Ke,rt,(function(e,t){var a=t.payload.state;return Object(v.a)(Object(v.a)({},e),{},{loading:a,timeStamp:Date.now()})})),Object(O.a)(Ke,it,(function(e,t){var a=t.payload.type;return Object(v.a)(Object(v.a)({},e),{},{displayType:a,timeStamp:Date.now()})})),Object(O.a)(Ke,ct,(function(e,t){var a=t.payload.page;return Object(v.a)(Object(v.a)({},e),{},{currentPage:a,timeStamp:Date.now(),observerIndex:0})})),Object(O.a)(Ke,st,(function(e,t){t.payload;return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),people:[],observerIndex:0,currentPage:"1",uploadedPages:[]})})),Object(O.a)(Ke,ot,(function(e,t){t.payload;return new U})),Object(O.a)(Ke,lt,(function(e,t){for(var a=t.payload,n=a.data,r=a.count,i=a.page,c=a.search,s=Object(nt.a)(new Set([].concat(Object(nt.a)(e.uploadedPages),[i]))),o=s.length>3,l=o?s.shift():null,u=o?e.people.map((function(e){return e&&e.fromPage===l?null:e})):Object(nt.a)(e.people),p=(i-1)*e.itemsPerPage,d=0;d<e.itemsPerPage;d++)n[d]&&(u[d+p]=Object(v.a)(Object(v.a)({},n[d]),{},{fromPage:i}));return Object(v.a)(Object(v.a)({},e),{},{observerIndex:0,totalPeopleCount:r,currentPage:i,uploadedPages:s,people:u,filterName:c,timeStamp:Date.now()})})),Object(O.a)(Ke,ut,(function(e,t){var a=t.payload.hero;return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),people:e.people.map((function(e){return e&&e.id===a.id?Object(v.a)(Object(v.a)({},e),a):e}))})})),Object(O.a)(Ke,pt,(function(e,t){var a=t.payload.state;return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),showFavoritesOnly:a,currentPage:"1",uploadedPages:[],people:e.people.filter((function(t){return t&&t.id in e.favoriteHeroes}))})})),Object(O.a)(Ke,dt,(function(e,t){var a=t.payload.items,n=Object(v.a)({},e.favoriteHeroes);for(var r in a)r in n?delete n[r]:n[r]=a[r];return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),favoriteHeroes:n,people:e.showFavoritesOnly?e.people.filter((function(e){return e&&e.id in n})):e.people})})),Object(O.a)(Ke,ft,(function(e,t){var a=t.payload.index;return Object(v.a)(Object(v.a)({},e),{},{observerIndex:a,timeStamp:Date.now()})})),Ke),ht),jt=We,mt=Be,Ot=new function e(){Object(o.a)(this,e),this.timeStamp=0,this.filmsData={},this.planestsData={}},vt=Object(g.a)((Qe={},Object(O.a)(Qe,jt,(function(e,t){var a=t.payload.film;return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),filmsData:Object(v.a)(Object(v.a)({},e.filmsData),{},Object(O.a)({},a.id,a))})})),Object(O.a)(Qe,mt,(function(e,t){var a=t.payload.planet;return Object(v.a)(Object(v.a)({},e),{},{timeStamp:Date.now(),planestsData:Object(v.a)(Object(v.a)({},e.planestsData),{},Object(O.a)({},a.id,a))})})),Qe),Ot),gt=Object(j.c)({userInfo:at,peopleData:bt,relationships:vt});var xt=function(e){var t=("undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||j.d)(Object(j.a)(m.a));return Object(j.e)(gt,e,t)}({userInfo:tt,peopleData:ht,relationships:Ot}),yt=a(240),wt=a(59),Pt=a(246),kt=a(224),Nt=a(83),Dt=function(e){var t=e.width,a=e.height,r=void 0===a?22:a;return Object(n.jsx)("div",{className:"paragraph-mock ui placeholder",style:{width:t,height:r}})},St=Object(f.b)((function(e,t){return{data:{userInfo:e.userInfo}}}),(function(e){return{actions:{}}}))((function(e){var t=e.className,a=e.data,i=(e.actions,Object(r.useState)(!1)),c=Object(wt.a)(i,2),o=c[0],l=c[1];Object(r.useEffect)((function(){l(!0)}),[]);var u=a.userInfo.userName;return Object(n.jsxs)("div",{className:t,children:[Object(n.jsx)("div",{children:Object(n.jsx)(Pt.a,{visible:o,animation:"slide up",duration:800,children:Object(n.jsxs)("h3",{style:{marginBottom:".2em"},children:["May the force be with you,",Object(n.jsxs)("span",{className:"ui teal",style:{fontSize:"1.35rem"},children:["\xa0",u||Object(n.jsx)(Dt,{height:16,width:100})]}),"!"]})})}),Object(n.jsx)("div",{children:Object(n.jsxs)(kt.a,{animated:"vertical",as:s.b,to:E,style:{marginLeft:"1.35em"},children:[Object(n.jsx)(kt.a.Content,{visible:!0,children:"LogOut"}),Object(n.jsx)(kt.a.Content,{hidden:!0,children:Object(n.jsx)(Nt.a,{name:"log out",size:"large",flipped:"horizontally"})})]})})]})})),Et=function(e){return Object(n.jsx)(St,Object(v.a)({},e))},It=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.history,a=e.data,n=e.actions;if(!a.userInfo.userName){n.getUserInfoDataFromStorages((function(){t.location.pathname!==E&&t.push(E)}))}}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:"layout-container",children:[Object(n.jsx)(Et,{className:"layout-container__navigation-bar"}),Object(n.jsx)(yt.a,{fitted:!0}),Object(n.jsxs)("div",{className:"layout-container__content",children:[" ",this.props.children]})]})}}]),a}(r.PureComponent),_t=Object(d.g)(Object(f.b)((function(e,t){return{data:{userInfo:e.userInfo}}}),(function(e){return{actions:{getUserInfoDataFromStorages:function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n,r,i;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=X(),r=n.userName,i=n.offlineMode,e(qe(r,i)),i||e(Ve(a));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}))(It)),Tt=a(250),Ct=a(249),Ft=a(252),At=function(){return Object(n.jsxs)(Tt.a,{style:{maxWidth:680,height:200,margin:"3em auto 0",padding:"3em"},children:[Object(n.jsx)(Ct.a,{className:"not-exist-label",size:"huge",children:"Sorry, that page does not exist."}),Object(n.jsx)(yt.a,{}),Object(n.jsx)(Ft.a,{centered:!0,columns:3,children:Object(n.jsx)(Ft.a.Column,{children:Object(n.jsxs)(kt.a,{color:"blue",as:s.b,to:S,style:{marginTop:".85em",width:125},children:[Object(n.jsx)(Nt.a,{name:"log out",size:"large",flipped:"horizontally"}),"Back to main"]})})})]})},Lt=a(251),Mt=a(242),Gt=a(243),Ht=a(151),Rt=function(e){var t=e.children,a=e.fill,r=e.stroke,i=e.height,c=e.width,s=e.style,o=Object(Ht.a)(e,["children","fill","stroke","height","width","style"]);return Object(n.jsx)("svg",Object(v.a)(Object(v.a)({x:"0px",y:"0px",fill:a,stroke:r,width:c,height:i,style:s},o),{},{children:t}))},zt=function(e){var t=e.height,a=void 0===t?25:t,r=e.width,i=void 0===r?25:r,c=Object(Ht.a)(e,["height","width"]);return Object(n.jsx)(Rt,Object(v.a)(Object(v.a)({height:a,width:i},c),{},{viewBox:"0 0 540 500",children:Object(n.jsxs)("g",{xmlns:"http://www.w3.org/2000/svg",id:"svg_3",children:[Object(n.jsx)("circle",{r:"32",cy:"138.667",cx:"224"}),Object(n.jsx)("path",{d:"m437.333,245.333c5.896,0 10.667,-4.771 10.667,-10.667l0,-42.666l32,0c5.896,0\r 10.667,-4.771 10.667,-10.667l0,-42.667c0,-5.896 -4.771,-10.667\r -10.667,-10.667l-53.333,0l0,-42.666l15.5,0c4.406,0 8.354,-2.708 9.948,\r -6.823c1.594,-4.104 0.49,-8.771 -2.771,-11.729c-47.344,-43.062\r -108.427,-66.781 -172.011,-66.781c-141.156,0 -256,114.844\r -256,256s114.844,256 256,256c63.583,0 124.667,-23.719 172.01,\r -66.781c3.26,-2.958 4.365,-7.625 2.771,-11.729c-1.594,-4.115\r -5.542,-6.823 -9.948,-6.823l-15.5,0l0,-21.333l53.334,0c5.896,\r 0 10.667,-4.771 10.667,-10.667l0,-64c0,-5.896 -4.771,-10.667\r -10.667,-10.667l-74.667,0l0,-53.333l-362.126,0c-0.161,-3.561\r -0.54,-7.066 -0.54,-10.667s0.379,-7.105 0.54,-10.667l394.126,\r 0zm-96,-117.333l42.667,0c5.896,0 10.667,4.771 10.667,10.667c0,\r 5.896 -4.771,10.667 -10.667,10.667l-42.667,0c-5.896,0 -10.667,\r -4.771 -10.667,-10.667c0.001,-5.896 4.772,-10.667 10.667,-10.667zm-117.333,\r -64c41.167,0 74.667,33.5 74.667,74.667c0,41.167 -33.5,74.667\r -74.667,74.667s-74.667,-33.5 -74.667,-74.667c0,-41.167 33.5,-74.667 74.667,\r -74.667zm-128,64l21.333,0c5.896,0 10.667,4.771 10.667,10.667c0,5.896\r -4.771,10.667 -10.667,10.667l-21.333,0c-5.896,0 -10.667,-4.771 -10.667,\r -10.667c0,-5.896 4.771,-10.667 10.667,-10.667zm234.667,192l32,0c5.896,0\r 10.667,4.771 10.667,10.667c0,5.896 -4.771,10.667 -10.667,10.667l-32,0c-5.896,\r 0 -10.667,-4.771 -10.667,-10.667c0,-5.896 4.771,-10.667 10.667,-10.667zm-192,\r 64l-42.667,0c-5.896,0 -10.667,-4.771 -10.667,-10.667c0,-5.896 4.771,\r -10.667 10.667,-10.667l42.667,0c5.896,0 10.667,4.771 10.667,10.667c-0.001,\r 5.896 -4.771,10.667 -10.667,10.667zm-53.334,-85.333l96,0c5.896,0 10.667,\r 4.771 10.667,10.667c0,5.896 -4.771,10.667 -10.667,10.667l-96,0c-5.896,\r 0 -10.667,-4.771 -10.667,-10.667c0.001,-5.896 4.772,-10.667 10.667,-10.667z"})]})}))},Ut=a(244),qt=a(248),Vt=function(e){var t=e.setVisible,a=e.loginWithForm,r=e.loginViaGoogleForm,i=e.error,c=e.removeErrorState;return Object(n.jsxs)(Ut.a,{className:"firebase-singin-form",widths:"equal",children:[Object(n.jsx)(Ut.a.Input,{icon:"at",iconPosition:"left",label:"Email",id:"login-email",placeholder:"Email",error:i,onChange:c},"login-email"),Object(n.jsx)(Ut.a.Input,{icon:"lock",iconPosition:"left",label:"Password",type:"password",id:"login-password",placeholder:"Password",error:i,onChange:c},"login-password"),Object(n.jsx)(kt.a,{content:"Login via firebase",primary:!0,style:{marginTop:"2em",marginBottom:"1.5em"},onClick:function(){var e=Object(Z.a)(Q.a.mark((function e(t){var n,r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.target,n=document.querySelector("#login-email"),r=document.querySelector("#login-password"),e.next=5,a((n||{}).value,(r||{}).value);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),Object(n.jsxs)(qt.a,{style:{margin:"0 .7em"},children:["First time here?\xa0",Object(n.jsx)(s.b,{to:"#",style:{maginLeft:".3em"},onClick:t,children:"Sing Up!"}),"\xa0or\xa0",Object(n.jsx)(kt.a,{icon:"google",size:"small",type:"google-btn",onClick:r,style:{display:"inline-block",background:"#4286f5",color:"white"}})]})]})},Wt=function(e){var t=e.visible,a=e.setVisible,r=e.create,i=e.error,c=e.removeErrorState;return Object(n.jsxs)(Ut.a,{className:"firebase-register-form",widths:"equal",onSubmit:function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n,i;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target,n=a.querySelector("#create-email"),i=a.querySelector("#create-password"),e.next=5,r((n||{}).value,(i||{}).value);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(n.jsx)(Nt.a,{name:t?"angle up":"minus",className:"back-to-signin",size:"large",title:"Back to SignIn",onClick:a}),Object(n.jsx)(Ut.a.Input,{icon:"at",iconPosition:"left",label:"Email",id:"create-email",placeholder:"Enter email",error:i,onChange:c}),Object(n.jsx)(Ut.a.Input,{disabled:!0,icon:"user",iconPosition:"left",label:"Username",id:"create-username",placeholder:"Username",error:i}),Object(n.jsx)(Ut.a.Input,{icon:"lock",iconPosition:"left",label:"Password",type:"password",id:"create-password",placeholder:"Enter password",error:i,onChange:c}),Object(n.jsx)(kt.a,{content:"Register",primary:!0,style:{marginTop:"1.5em",marginBottom:"1em"}})]})};function Bt(e){var t=(e.split("@")||[])[0]||"None";return t.charAt(0).toUpperCase()+t.slice(1)}var Jt,Yt=Object(f.b)((function(e,t){return Object(v.a)(Object(v.a)({},t),{},{data:{}})}),(function(e){return{actions:{clearUserInfo:function(){e(Ue())},authOffline:function(){var t="Anonymous";J(JSON.stringify({userName:t,offlineMode:!0})),e(qe(t,!0))},authOnline:function(t,a){var n=t.user.displayName||t.user.cutomDisplayName;J(JSON.stringify({userName:n,offlineMode:!1})),e(qe(n,!1)),e(Ve(a))}}}}),null,{pure:!0,areOwnPropsEqual:function(){return!0}})((function(e){var t=e.history,a=(e.data,e.actions);Object(r.useEffect)((function(){a.clearUserInfo(),function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){var a=e[t],n=a.indexOf("="),r=n>-1?a.substr(0,n):a;document.cookie=r+"=;expires="+new Date(0).toGMTString()}}(),function(){he.apply(this,arguments)}()}),[a]);var i=Object(r.useState)(!1),c=Object(wt.a)(i,2),o=c[0],l=c[1],u=Object(r.useState)(!1),p=Object(wt.a)(u,2),d=p[0],f=p[1],h=Object(r.useState)(!1),b=Object(wt.a)(h,2),j=b[0],m=b[1],O=Object(r.useState)(!1),v=Object(wt.a)(O,2),g=v[0],x=v[1],y=a.authOffline,w=a.authOnline,P=function(){t.location.pathname!==E&&t.push(E)};function k(){return(k=Object(Z.a)(Q.a.mark((function e(a,n){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,oe(a,n);case 3:(r=e.sent).user.cutomDisplayName=Bt(a),f(!1),r?(w(r,P),t.push(S)):x(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(Z.a)(Q.a.mark((function e(a,n){var r;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,ue(a,n);case 3:(r=e.sent).user.cutomDisplayName=Bt(a),f(!1),r?(w(r,P),t.push(S)):m(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return(D=Object(Z.a)(Q.a.mark((function e(){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,de();case 3:a=e.sent,f(!1),a&&(w(a,P),t.push(S));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.jsxs)("div",{id:"login-screen",children:[Object(n.jsxs)(Tt.a,{children:[d&&Object(n.jsx)(Lt.a,{active:!0,inverted:!0,className:"p-absolute",children:Object(n.jsx)(Mt.a,{inverted:!0,size:"huge",children:"Loading..."})}),Object(n.jsxs)(Ct.a,{as:"h2",icon:!0,className:"login-header full-width",children:[Object(n.jsx)(zt,{width:45,height:45}),Object(n.jsx)("div",{children:"Star Wars API"}),Object(n.jsx)(Ct.a.Subheader,{children:"Test task to check react skill of mine."})]}),Object(n.jsxs)(Tt.a,{className:"login-form",placeholder:!0,children:[Object(n.jsxs)(Ft.a,{columns:2,relaxed:"very",stackable:!0,divided:!0,children:[Object(n.jsxs)(Ft.a.Column,{className:"firebase-auth-forms-column ".concat(o?"register":"login"),children:[Object(n.jsx)(Vt,{visible:!o,setVisible:function(){l(!0)},loginWithForm:function(e,t){return N.apply(this,arguments)},loginViaGoogleForm:function(){return D.apply(this,arguments)},error:j,removeErrorState:function(){return m(!1)}}),Object(n.jsx)(Wt,{visible:o,setVisible:function(){l(!1)},create:function(e,t){return k.apply(this,arguments)},error:g,removeErrorState:function(){return x(!1)}})]}),Object(n.jsx)(Ft.a.Column,{verticalAlign:"middle",className:"offline-section",children:Object(n.jsx)(Gt.a,{content:"All your changes will be stored in your browser.",trigger:Object(n.jsxs)(kt.a,{basic:!0,color:"purple",size:"big",className:"offline-btn",onClick:y,as:s.b,to:S,children:[Object(n.jsxs)(Nt.a.Group,{children:[Object(n.jsx)(Nt.a,{name:"wifi"}),Object(n.jsx)(Nt.a,{corner:!0,name:"x",color:"red"})]}),"\xa0 Enter offline"]})})})]}),Object(n.jsx)(yt.a,{className:"vertical-devider",vertical:!0,children:"Or"})]})]}),Object(n.jsxs)("div",{id:"developer-signature",children:["developed by",Object(n.jsx)("a",{target:"_blank",rel:"noreferrer",href:"https://github.com/Sinfulelf",children:"\xa0Anton Nastolnyi"})]})]})})),Xt=Object(d.g)((function(e){return Object(n.jsx)(Yt,Object(v.a)({},e))})),Kt=a(256),Qt=a(241),Zt=function(e){var t=e.search,a=Object(r.useState)(""),i=Object(wt.a)(a,2),c=i[0],s=i[1];return Object(n.jsx)(Qt.a,{className:"header-input",label:Object(n.jsx)(kt.a,{primary:!0,onClick:function(){t(c)},children:"Search"}),onChange:function(e){var t=e.target;s(t.value)},value:c,labelPosition:"right",placeholder:"Filter by name"})},$t=a(254),ea=function(e){var t=e.isFavorites,a=e.showFavoriteOnly;return Object(n.jsxs)($t.a,{pointing:!0,secondary:!0,size:"large",children:[Object(n.jsxs)($t.a.Item,{name:"people",className:"people-menu",active:!t,onClick:function(){a(!1)},style:{margin:"0 .5em -2px"},children:[Object(n.jsx)(Nt.a,{name:"users"}),"\u2009 People"]},"people"),Object(n.jsxs)($t.a.Item,{name:"favorites",className:"favorites-menu",active:t,onClick:function(){a(!0)},style:{margin:"0 .5em -2px"},children:[Object(n.jsx)(Nt.a,{name:"heart outline"}),"\u2009 Favorite"]},"favorites")]})},ta=function(e){var t=e.pageName,a=e.isFavorites,r=e.showFavoriteOnly,i=e.displayType,c=e.setPeoplePagedisplayType,s=e.search;return Object(n.jsxs)("div",{className:"page-header ".concat(t,"__header"),children:[Object(n.jsx)(Ut.a,{className:"header-toggle",children:Object(n.jsx)(Ut.a.Field,{children:Object(n.jsx)(Kt.a,{slider:!0,label:"Show cards",checked:i===z.cards,onChange:function(){c(i===z.cards?z.list:z.cards)}})})}),Object(n.jsx)(Zt,{search:s}),Object(n.jsx)(ea,{isFavorites:a,showFavoriteOnly:r})]})},aa={stylesConfigs:(Jt={},Object(O.a)(Jt,z.list,{width:235,height:35,gap:8,userInfoMargin:25}),Object(O.a)(Jt,z.cards,{width:250,height:216,horizontalGap:12,verticalGap:14}),Jt),shouldRecalculateStyle:function(e,t){var a=e.displayType,n=e.index,r=e.wrapperWidth,i=t.styleConditions;return a!==i.displayType||n!==i.index||a===z.cards&&r!==i.wrapperWidth},recalculateStyle:function(e){var t=e.displayType,a=e.index,n=e.wrapperWidth;if(t===z.list){var r=this.stylesConfigs[z.list],i=r.width,c=r.height;return{top:(c+r.gap)*a,left:0,width:i,height:c}}var s=this.stylesConfigs[z.cards],o=s.width,l=s.height,u=s.horizontalGap,p=s.verticalGap,d=o+u,f=Math.floor(n/d)*d,h=a*d,b=Math.floor(h/f);return{top:b*(l+p),left:h-b*f,width:o,height:l,marginBottom:p}}},na=a(183),ra=function(e){var t=e.name,a=e.value,r=void 0===a?"":a;return Object(n.jsxs)("div",{className:"property",children:[!!t&&Object(n.jsxs)("h5",{className:"property-name",children:[t,":"]}),Object(n.jsxs)("div",{className:"property-content",children:[Object(n.jsx)("div",{style:{paddingRight:".3em"},children:"\u25cf"}),Object(n.jsx)("div",{className:"ellipsis",children:r})]})]})},ia=function(e){var t=e.item;return Object(n.jsxs)("div",{className:"full-space hero-info__properties",children:[Object(n.jsx)(ra,{name:"Height",value:t.loaded?t.height:Object(n.jsx)(Dt,{width:120})},"height"),Object(n.jsx)(ra,{name:"Mass",value:t.loaded?t.mass:Object(n.jsx)(Dt,{width:70})},"mass"),Object(n.jsx)(ra,{name:"Hair color",value:t.loaded?t.hairColour:Object(n.jsx)(Dt,{width:80})},"hairColour"),Object(n.jsx)(ra,{name:"Skin color",value:t.loaded?t.skinColour:Object(n.jsx)(Dt,{width:80})},"skinColour"),Object(n.jsx)(ra,{name:"Eye Color",value:t.loaded?t.eyeColour:Object(n.jsx)(Dt,{width:80})},"eyeColour"),Object(n.jsx)(ra,{name:"Birth Year",value:t.loaded?t.birthYear:Object(n.jsx)(Dt,{width:70})},"birthYear"),Object(n.jsx)(ra,{name:"Gender",value:t.loaded?t.gender:Object(n.jsx)(Dt,{width:75})},"gender")]})},ca=function(e){var t=e.item,a=e.planets[t.planet.id];return Object(n.jsxs)("div",{className:"full-space hero-info__home",children:[Object(n.jsx)("h3",{className:"title",children:"Home world"}),Object(n.jsx)(ra,{name:"Name",value:a?a.name:Object(n.jsx)(Dt,{width:110})},"name"),Object(n.jsx)(ra,{name:"Population",value:a?a.population:Object(n.jsx)(Dt,{width:120})},"population"),Object(n.jsx)(ra,{name:"Climate",value:a?a.climate:Object(n.jsx)(Dt,{width:180})},"climate")]})},sa=function(e){var t=e.item,a=e.films;return Object(n.jsxs)("div",{className:"full-space hero-info__films",children:[Object(n.jsx)("h3",{className:"title",children:"Films"}),t.films.map((function(e){return Object(n.jsx)(ra,{value:a[e.id]?"".concat(a[e.id].title," by ").concat(a[e.id].releaseDate):Object(n.jsx)(Dt,{width:240})},e.url)}))]})},oa=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).uploadHeroAdditionalData=Object(Z.a)(Q.a.mark((function t(){var a,n,r,i,c,s,o,l;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.props,n=a.item,r=a.getFilmData,i=a.getPlanetData,c=a.relationships,!a.showFullInfo){t.next=23;break}if(!n.planet||n.planet.id in c.planestsData){t.next=5;break}return t.next=5,i(n.planet.id);case 5:s=Object(be.a)(n.films),t.prev=6,s.s();case 8:if((o=s.n()).done){t.next=15;break}if(!(l=o.value)||l.id in c.filmsData){t.next=13;break}return t.next=13,r(l.id);case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),s.e(t.t0);case 20:return t.prev=20,s.f(),t.finish(20);case 23:case"end":return t.stop()}}),t,null,[[6,17,20,23]])}))),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(Q.a.mark((function e(){return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.uploadHeroAdditionalData();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(Z.a)(Q.a.mark((function e(t){var a,n,r,i,c,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=this.props,c=i.item,s=i.showFullInfo,!(c.id!==t.item.id||s!==t.showFullInfo||!(null===(a=t.item)||void 0===a?void 0:a.planet)&&c.planet||(null===(n=t.item)||void 0===n?void 0:n.films)&&(null===(r=t.item)||void 0===r?void 0:r.films.length)!==c.films.length)){e.next=4;break}return e.next=4,this.uploadHeroAdditionalData();case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.item,a=e.relationships,r=e.showFullInfo,i=void 0!==r&&r;return Object(n.jsxs)("div",{className:"hero-info",children:[!i&&Object(n.jsx)(yt.a,{style:{marginTop:0}}),Object(n.jsx)(ia,{item:t}),i?Object(n.jsxs)(n.Fragment,{children:[!!t.planet&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(yt.a,{}),Object(n.jsx)(ca,{item:t,planets:a.planestsData})]}),Object(n.jsx)(yt.a,{}),Object(n.jsx)(sa,{item:t,films:a.filmsData})]}):Object(n.jsx)("div",{className:"bottom-mask"})]})}}]),a}(r.PureComponent),la=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={style:{},styleConditions:{displayType:"",index:-1,wrapperWidth:-1},isActive:!1,heartIconFilled:!1},e.stylesConfigs=Object(O.a)({},z.list,{width:200,height:30,gap:5}),e.setCardActiveState=function(t){e.props.displayType===z.list&&e.setState({isActive:t})},e.setHeartIconFilled=function(t){e.setState({heartIconFilled:t})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.item,r=t.displayType,i=t.toggleFavoriteHero,c=t.favoriteHeroes,s=t.observerIndex,o=t.index,l=t.setObservedItemIndex,u=this.state,p=u.style,d=u.isActive,f=u.heartIconFilled,h=!!c[a.id],b=o===s;return Object(n.jsxs)("div",{className:"hero-card ".concat(d||b&&r===z.list?"active":""," ").concat(r),style:p,onClick:function(){b||r!==z.list||l(o)},children:[!a.loaded&&Object(n.jsx)(Lt.a,{active:!0,inverted:!0,className:"p-absolute",children:Object(n.jsx)(Mt.a,{inverted:!0,size:"small"})}),Object(n.jsxs)("div",{className:"hero-card__header",children:[Object(n.jsx)(Ct.a,{as:"h3",title:a.name,className:"hero-name",onMouseUp:function(t){e.setCardActiveState(!1)},onMouseLeave:function(t){e.setCardActiveState(!1)},onMouseDown:function(t){e.setCardActiveState(!0)},children:a.name}),Object(n.jsx)(Nt.a,{name:"heart",className:"favor-icon ".concat(h?"red":f?"pale-red":"outline"),onMouseEnter:function(t){return e.setHeartIconFilled(!0)},onMouseLeave:function(t){return e.setHeartIconFilled(!1)},onClick:function(e){e.stopPropagation(),i(a.id,a.name)}}),r===z.list&&b&&Object(n.jsx)(Nt.a,{className:"observer-caret",name:"caret right",size:"big"})]}),r===z.cards&&Object(n.jsx)(oa,{item:a,showFullInfo:!1})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){return aa.shouldRecalculateStyle(e,t)?{style:aa.recalculateStyle(e),styleConditions:{displayType:e.displayType,index:e.index,wrapperWidth:e.wrapperWidth}}:null}}]),a}(r.PureComponent),ua=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.pageName,a=e.loading,r=e.data,i=e.displayType,c=e.toggleFavoriteHero,s=e.favoriteHeroes,o=e.observerIndex,l=e.setObservedItemIndex,u=e.relationships,p=e.getFilmData,d=e.getPlanetData;return Object(n.jsxs)("div",{className:"page-content ".concat(t,"__content"),style:{paddingTop:"1.75em",paddingBottom:"1.75em",overflow:"hidden"},children:[a&&Object(n.jsx)(Lt.a,{active:!0,inverted:!0,className:"p-absolute",children:Object(n.jsx)(Mt.a,{inverted:!0,size:"huge",children:"Loading"})}),!a&&!r.length&&Object(n.jsx)("h2",{children:"No data to display."}),Object(n.jsx)(na.a,{handleWidth:!0,children:function(e){var t=e.width;return Object(n.jsxs)("div",{className:"heroes-cards__wrapper",children:[r.map((function(e,a){return Object(n.jsx)(la,{wrapperWidth:t,index:a,displayType:i,item:e,favoriteHeroes:s,toggleFavoriteHero:c,observerIndex:o,setObservedItemIndex:l},e.urlValue||a)})),!!r[o]&&Object(n.jsx)(Pt.a,{visible:i===z.list,animation:"scale",duration:400,children:Object(n.jsx)("div",{className:"full-space",style:{paddingLeft:aa.stylesConfigs[z.list].width+aa.stylesConfigs[z.list].userInfoMargin},children:Object(n.jsx)(Tt.a,{className:"user-info",children:Object(n.jsx)(oa,{item:r[o],relationships:u,getFilmData:p,getPlanetData:d,showFullInfo:i===z.list})})})})]})}})]})}}]),a}(r.PureComponent),pa=a(255),da=function(e){var t=e.pageName,a=e.activePage,r=void 0===a?1:a,i=e.totalPages,c=e.onPageChange,s=e.loading,o=i?{activePage:r,totalPages:i,ellipsisItem:{className:"disabled",content:"..."},onPageChange:function(e,t){return Object(Z.a)(Q.a.mark((function e(){var a;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.activePage,e.next=3,c(a);case 3:case"end":return e.stop()}}),e)})))()},disabled:s}:{totalPages:10,disabled:!0};return Object(n.jsx)("div",{className:"page-footer ".concat(t,"__footer"),children:Object(n.jsx)(pa.a,Object(v.a)(Object(v.a)({},o),{},{firstItem:null,lastItem:null}))})},fa=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).pageName="people-page",e.getPaginationsItemsCount=function(){var t=e.props.data.peopleData,a=t.totalPeopleCount,n=t.itemsPerPage;return a?Math.ceil(a/n):10},e.onPaginationPageChange=function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n,r,i;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.data,i=n.actions,r.peopleData.currentPage==a){t.next=4;break}return t.next=4,i.getPeople(a,r.peopleData.filterName);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.showFavoriteOnly=function(t){e.props.data.peopleData.showFavoritesOnly!==t&&e.props.actions.setPeoplePageFavoritesViewMode(t)},e.filterByName=function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n,r,i;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.props,r=n.data,i=n.actions,r.peopleData.filterName===a){t.next=4;break}return t.next=4,i.getPeople(1,a);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Z.a)(Q.a.mark((function e(){var t,a,n,r,i,c;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,a=t.data,n=t.actions,r=a.peopleData,i=r.people,c=r.currentPage,i.length){e.next=7;break}return e.next=5,n.getPeople(c);case 5:return e.next=7,n.getFavoriteHeroes();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.props.actions.clearPeopleData()}},{key:"render",value:function(){var e=this.props,t=e.data,a=e.actions,r=t.peopleData,i=t.relationships,c=t.paginatedData,s=a.setPeoplePagedisplayType,o=a.toggleFavoriteHero,l=a.setObservedItemIndex,u=a.getFilmData,p=a.getPlanetData,d=this.getPaginationsItemsCount();return Object(n.jsxs)("div",{className:"page-wrapper ".concat(this.pageName),children:[Object(n.jsx)(ta,{pageName:this.pageName,isFavorites:r.showFavoritesOnly,showFavoriteOnly:this.showFavoriteOnly,displayType:r.displayType,setPeoplePagedisplayType:s,search:this.filterByName}),Object(n.jsx)(ua,{pageName:this.pageName,loading:r.loading,isFavorites:r.showFavoritesOnly,displayType:r.displayType,data:c,favoriteHeroes:r.favoriteHeroes,toggleFavoriteHero:o,observerIndex:r.observerIndex,setObservedItemIndex:l,getFilmData:u,getPlanetData:p,relationships:i}),Object(n.jsx)(da,{pageName:this.pageName,loading:r.loading,activePage:r.currentPage,totalPages:d,onPageChange:this.onPaginationPageChange})]})}}]),a}(r.PureComponent),ha=Object(f.b)((function(e,t){var a=e.peopleData,n=e.relationships,r=a.people,i=a.currentPage,c=a.itemsPerPage;return{data:{peopleData:a,relationships:n,paginatedData:r.slice(c*(i-1),c*i).filter((function(e){return"undefined"!==typeof e})).map((function(e){return e||new G}))}}}),(function(e){return{actions:{setPeoplePagedisplayType:function(t){e(function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a,n){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n().peopleData.displayType!==e&&a(De(e));case 2:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))},getPeople:function(){var t=Object(Z.a)(Q.a.mark((function t(a){var n,r=arguments;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:"",t.next=3,e(_e(a,n));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),clearPeopleData:function(){e(Ee())},toggleFavoriteHero:function(t,a){var n;e((n=Object(O.a)({},t,a),function(){var e=Object(Z.a)(Q.a.mark((function e(t,a){var r,i,c,s;return Q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(Ce(n)),r=a(),i=r.userInfo,c=r.peopleData,i.offlineMode)re(c.favoriteHeroes);else if((s=i.user)&&s.uid)try{se.ref(s.uid).set(JSON.stringify(c.favoriteHeroes))}catch(o){console.log(o)}c.showFavoritesOnly&&setTimeout((function(){var e=c.currentPage,a=c.filterName;t(Le(e,a))}));case 4:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()))},getFavoriteHeroes:function(){var t=Object(Z.a)(Q.a.mark((function t(){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Fe());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),setObservedItemIndex:function(t){e(Ae(t))},setPeoplePageFavoritesViewMode:function(t){e(function(e){return function(){var t=Object(Z.a)(Q.a.mark((function t(a,n){var r,i,c;return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a(Te(e)),r=n(),i=r.peopleData,c=i.filterName,!e){t.next=8;break}return t.next=6,a(Le(1,c));case 6:t.next=10;break;case 8:return t.next=10,a(_e(1,c));case 10:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}(t))},getFilmData:function(){var t=Object(Z.a)(Q.a.mark((function t(a){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Je(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),getPlanetData:function(){var t=Object(Z.a)(Q.a.mark((function t(a){return Q.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(Xe(a));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}}),null,{pure:!0,areOwnPropsEqual:function(e,t){return e.location.pathname===t.location.pathname},areStatesEqual:function(e,t){return!!e.peopleData.timeStamp&&e.peopleData.timeStamp===t.peopleData.timeStamp&&e.relationships.timeStamp===t.relationships.timeStamp}})(fa),ba=Object(d.g)((function(e){return Object(n.jsx)(ha,Object(v.a)({},e))}));b.a.config({path:"../"});var ja=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(f.a,{store:xt,children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(d.b,{exact:!0,path:E,component:Xt}),Object(n.jsx)(_t,{children:Object(n.jsxs)(d.d,{children:[Object(n.jsx)(ma,{exact:!0,path:[S,I],component:ba}),Object(n.jsx)(ma,{component:At})]})})]})})}}]),a}(r.PureComponent),ma=function(e){var t=e.exact,a=e.path,r=e.component;return V()?Object(n.jsx)(d.b,{exact:t,path:a,component:r}):Object(n.jsx)(d.a,{to:{pathname:E}})},Oa=document.getElementById("root");c.a.render(Object(n.jsx)(s.a,{basename:"/",children:Object(n.jsx)(ja,{})}),Oa)}},[[223,1,2]]]);
//# sourceMappingURL=main.c65ef02a.chunk.js.map